<!doctype html>
<html>
<head>
  <% include ../head/default.ejs %>
  <title>电商登录 | 蚂蚁相传</title>
</head>
<body>
<% include ../header/default.ejs %>
<div class="am-container">
  <form class="am-form" style="margin: auto; max-width: 480px;" action="/merchant/login" method="post">
    <fieldset>
      <legend>电商登录</legend>
      <div class="am-form-group">
        <label for="username">用户名</label>
        <input type="text" name="username" id="username" minlength="4" required/>
      </div>
      <div class="am-form-group">
        <label for="password">密码</label>
        <input type="password" name="password" id="password" minlength="6" required/>
      </div>
      <div style="text-align: center;">
        <a href="/merchant/signup" class="am-btn am-btn-primary" style="margin-right: 16px;">注册</a>
        <button type="submit" class="am-btn am-btn-primary">登录</button>
      </div>
    </fieldset>
  </form>
</div>

<% include ../script/default.ejs %>
<script>
  $(function () {
    $('.am-form').validator({
      onValid: function (validity) {
        $(validity.field).closest('.am-form-group').find('.am-alert').hide();
      },

      onInValid: function (validity) {
        var $field = $(validity.field);
        var $group = $field.closest('.am-form-group');
        var $alert = $group.find('.am-alert');
        // 使用自定义的提示信息 或 插件内置的提示信息
        var msg = $field.data('validationMessage') || this.getValidationMessage(validity);
        if (!$alert.length) {
          $alert = $('<div class="am-alert am-alert-danger"></div>').hide().appendTo($group);
        }
        $alert.html(msg).show();
      }
    });
  });

</script>
</body>
</html>